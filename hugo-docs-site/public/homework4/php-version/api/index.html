<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="/css/custom.css">
</head>
<body>
    <header>
        <h1>NKU 640 Documentation</h1>
        <nav>
            <ul>
                
                    <li><a href="/">Home</a></li>
                
                    <li><a href="/homework3/">Homework 3</a></li>
                
                    <li><a href="/homework4/">Homework 4</a></li>
                
                    <li><a href="/homework5/">Homework 5</a></li>
                
            </ul>
        </nav>
    </header>
    <main>
        <h1></h1>
<h1 id="todo-rest-api---complete-api-reference">TODO REST API - Complete API Reference</h1>
<h2 id="overview">Overview</h2>
<p>This document defines the complete API contract for the TODO REST API, including all endpoint specifications, authentication, request/response schemas, validation rules, and security guidelines.</p>
<p><strong>Base URL:</strong> <code>http://localhost:8000/api/v1</code> (or your deployed server URL)</p>
<p><strong>Content-Type:</strong> <code>application/json</code></p>
<hr>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#data-models">Data Models</a></li>
<li><a href="#health-check">Health Check</a></li>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#list-endpoints">List Endpoints</a></li>
<li><a href="#task-endpoints">Task Endpoints</a></li>
<li><a href="#error-responses">Error Responses</a></li>
<li><a href="#security-guidelines">Security Guidelines</a></li>
</ul>
<hr>
<h2 id="data-models">Data Models</h2>
<h3 id="user">User</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;string (UUID v4)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;string (3-50 chars, unique)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;string (valid email, unique)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime, optional)&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Note:</strong> Passwords are never returned in responses.</p>
<h3 id="list">List</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;string (UUID v4)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;string (required, max 255 chars)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;string (optional, max 1000 chars)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime, optional)&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="task">Task</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;string (UUID v4)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;listId&#34;</span>: <span style="color:#e6db74">&#34;string (UUID v4, required)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;string (required, max 255 chars)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;string (optional, max 2000 chars)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;completed&#34;</span>: <span style="color:#e6db74">&#34;boolean (default: false)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;dueDate&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime, optional)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;string (enum: &#39;low&#39;, &#39;medium&#39;, &#39;high&#39;, optional)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;categories&#34;</span>: <span style="color:#e6db74">&#34;array of strings (optional, max 10 items, each max 50 chars)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#e6db74">&#34;string (ISO 8601 datetime, optional)&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h2 id="health-check">Health Check</h2>
<h3 id="get-apiv1health">GET /api/v1/health</h3>
<p>Check the health and status of the API and its dependencies.</p>
<p><strong>Authentication:</strong> Not required</p>
<p><strong>Success Response (200):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;healthy&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;timestamp&#34;</span>: <span style="color:#e6db74">&#34;2025-11-07T23:48:15+00:00&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;service&#34;</span>: <span style="color:#e6db74">&#34;PHP TODO REST API&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;v1&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;checks&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;database&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;healthy&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Database connection successful&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;php&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;healthy&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;8.1.33&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;disk&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;healthy&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;free_space_mb&#34;</span>: <span style="color:#ae81ff">5629.3</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;used_percent&#34;</span>: <span style="color:#ae81ff">27.41</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;memory&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;status&#34;</span>: <span style="color:#e6db74">&#34;healthy&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;memory_limit&#34;</span>: <span style="color:#e6db74">&#34;128M&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;memory_usage_mb&#34;</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Status Values:</strong></p>
<ul>
<li><code>healthy</code>: All systems operational</li>
<li><code>warning</code>: System is operational but has warnings (e.g., low disk space)</li>
<li><code>unhealthy</code>: Critical issue detected (returns 503 status code)</li>
</ul>
<p><strong>HTTP Status Codes:</strong></p>
<ul>
<li><code>200</code>: System is healthy or has warnings</li>
<li><code>503</code>: System is unhealthy (service unavailable)</li>
</ul>
<hr>
<h2 id="authentication">Authentication</h2>
<p>The API uses <strong>JWT (JSON Web Token)</strong> for authentication:</p>
<ul>
<li>Passwords are hashed with <strong>bcrypt</strong> (cost factor 12)</li>
<li>Tokens expire after <strong>1 hour</strong> (configurable via <code>JWT_EXPIRY</code>)</li>
<li>Tokens are sent as <code>Authorization: Bearer &lt;token&gt;</code> header</li>
<li>Tokens are blacklisted on logout to prevent reuse</li>
</ul>
<h3 id="post-apiv1authsignup">POST /api/v1/auth/signup</h3>
<p>Create a new user account.</p>
<p><strong>Request Body:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;alice&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;alice@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;password&#34;</span>: <span style="color:#e6db74">&#34;password123&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Validation Rules:</strong></p>
<ul>
<li><code>username</code>: 3-50 characters, unique</li>
<li><code>email</code>: Valid email format, unique</li>
<li><code>password</code>: Minimum 8 characters</li>
</ul>
<p><strong>Success Response (201):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;token&#34;</span>: <span style="color:#e6db74">&#34;eyJ0eXAiOiJKV1QiLCJhbGc...&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;a1b2c3d4-...&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;alice&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;alice@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Validation error</li>
<li><code>409 Conflict</code> - Username or email already exists</li>
<li><code>500 Internal Server Error</code> - Server error</li>
</ul>
<p><strong>curl Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST http://localhost:8000/api/v1/auth/signup <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;username&#34;: &#34;alice&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;email&#34;: &#34;alice@example.com&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;password&#34;: &#34;password123&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  }&#39;</span>
</span></span></code></pre></div><hr>
<h3 id="post-apiv1authlogin">POST /api/v1/auth/login</h3>
<p>Authenticate and receive a JWT token.</p>
<p><strong>Request Body:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;alice&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;password&#34;</span>: <span style="color:#e6db74">&#34;password123&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Success Response (200):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;token&#34;</span>: <span style="color:#e6db74">&#34;eyJ0eXAiOiJKV1QiLCJhbGc...&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;user&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;a1b2c3d4-...&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;alice&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;alice@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Validation error</li>
<li><code>401 Unauthorized</code> - Invalid username or password</li>
<li><code>500 Internal Server Error</code> - Server error</li>
</ul>
<p><strong>curl Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST http://localhost:8000/api/v1/auth/login <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;username&#34;: &#34;alice&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;password&#34;: &#34;password123&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  }&#39;</span>
</span></span></code></pre></div><hr>
<h3 id="get-apiv1usersprofile">GET /api/v1/users/profile</h3>
<p>Get current user profile (requires authentication).</p>
<p><strong>Headers Required:</strong></p>
<pre tabindex="0"><code>Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc...
</code></pre><p><strong>Success Response (200):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;a1b2c3d4-...&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;username&#34;</span>: <span style="color:#e6db74">&#34;alice&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;email&#34;</span>: <span style="color:#e6db74">&#34;alice@example.com&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>401 Unauthorized</code> - Missing, invalid, expired, or blacklisted token</li>
<li><code>404 Not Found</code> - User not found</li>
<li><code>500 Internal Server Error</code> - Server error</li>
</ul>
<p><strong>curl Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>TOKEN<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;your-jwt-token-here&#34;</span>
</span></span><span style="display:flex;"><span>curl -X GET http://localhost:8000/api/v1/users/profile <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><hr>
<h3 id="post-apiv1authlogout">POST /api/v1/auth/logout</h3>
<p>Logout and blacklist the current token (requires authentication).</p>
<p><strong>Headers Required:</strong></p>
<pre tabindex="0"><code>Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGc...
</code></pre><p><strong>Success Response (204):</strong></p>
<ul>
<li>No content</li>
<li>Token is added to blacklist and can no longer be used</li>
</ul>
<p><strong>curl Example:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>TOKEN<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;your-jwt-token-here&#34;</span>
</span></span><span style="display:flex;"><span>curl -X POST http://localhost:8000/api/v1/auth/logout <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><hr>
<h2 id="list-endpoints">List Endpoints</h2>
<h3 id="get-apiv1lists">GET /api/v1/lists</h3>
<p>Retrieve all lists.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>GET</code></li>
<li>Headers: None required</li>
<li>Body: None</li>
</ul>
<p><strong>Response (200 OK):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Groceries&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Weekly shopping list&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="get-apiv1listsid">GET /api/v1/lists/:id</h3>
<p>Retrieve a single list by ID.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>GET</code></li>
<li>Headers: None required</li>
<li>URL Parameters: <code>id</code> (UUID v4)</li>
</ul>
<p><strong>Response (200 OK):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Groceries&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Weekly shopping list&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format</li>
<li><code>404 Not Found</code> - List not found</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="post-apiv1lists">POST /api/v1/lists</h3>
<p>Create a new list.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Content-Type: application/json</code></li>
<li>Body:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Groceries&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Weekly shopping list&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Validation Rules:</strong></p>
<ul>
<li><code>name</code>: Required, string, 1-255 characters, cannot be only whitespace</li>
<li><code>description</code>: Optional, string, max 1000 characters</li>
</ul>
<p><strong>Response (201 Created):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Groceries&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Weekly shopping list&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Validation error (invalid/missing fields)</li>
<li><code>415 Unsupported Media Type</code> - Invalid Content-Type</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="patch-apiv1listsid">PATCH /api/v1/lists/:id</h3>
<p>Update an existing list.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>PATCH</code></li>
<li>Headers: <code>Content-Type: application/json</code></li>
<li>URL Parameters: <code>id</code> (UUID v4)</li>
<li>Body (all fields optional):</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Updated Groceries&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Updated description&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Validation Rules:</strong></p>
<ul>
<li><code>name</code>: Optional, string, 1-255 characters if provided</li>
<li><code>description</code>: Optional, string, max 1000 characters if provided</li>
<li>At least one field must be provided</li>
</ul>
<p><strong>Response (200 OK):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Updated Groceries&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Updated description&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T11:00:00Z&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format or validation error</li>
<li><code>404 Not Found</code> - List not found</li>
<li><code>415 Unsupported Media Type</code> - Invalid Content-Type</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="delete-apiv1listsid">DELETE /api/v1/lists/:id</h3>
<p>Delete a list and all associated tasks.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>DELETE</code></li>
<li>Headers: None required</li>
<li>URL Parameters: <code>id</code> (UUID v4)</li>
</ul>
<p><strong>Response (204 No Content):</strong></p>
<ul>
<li>Empty body</li>
</ul>
<p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format</li>
<li><code>404 Not Found</code> - List not found</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h2 id="task-endpoints">Task Endpoints</h2>
<h3 id="get-apiv1listslistidtasks">GET /api/v1/lists/:listId/tasks</h3>
<p>Retrieve all tasks in a specific list.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>GET</code></li>
<li>Headers: None required</li>
<li>URL Parameters: <code>listId</code> (UUID v4)</li>
</ul>
<p><strong>Response (200 OK):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;660e8400-e29b-41d4-a716-446655440001&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;listId&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Buy milk&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;2 liters, skim&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;completed&#34;</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;dueDate&#34;</span>: <span style="color:#e6db74">&#34;2025-11-07T18:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;medium&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;categories&#34;</span>: [<span style="color:#e6db74">&#34;groceries&#34;</span>, <span style="color:#e6db74">&#34;dairy&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:05:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format</li>
<li><code>404 Not Found</code> - List not found</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="get-apiv1tasksid">GET /api/v1/tasks/:id</h3>
<p>Retrieve a single task by ID.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>GET</code></li>
<li>Headers: None required</li>
<li>URL Parameters: <code>id</code> (UUID v4)</li>
</ul>
<p><strong>Response (200 OK):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;660e8400-e29b-41d4-a716-446655440001&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;listId&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Buy milk&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;2 liters, skim&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;completed&#34;</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;dueDate&#34;</span>: <span style="color:#e6db74">&#34;2025-11-07T18:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;medium&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;categories&#34;</span>: [<span style="color:#e6db74">&#34;groceries&#34;</span>, <span style="color:#e6db74">&#34;dairy&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:05:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format</li>
<li><code>404 Not Found</code> - Task not found</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="post-apiv1listslistidtasks">POST /api/v1/lists/:listId/tasks</h3>
<p>Create a new task in a specific list.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>POST</code></li>
<li>Headers: <code>Content-Type: application/json</code></li>
<li>URL Parameters: <code>listId</code> (UUID v4)</li>
<li>Body:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Buy milk&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;2 liters, skim&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;dueDate&#34;</span>: <span style="color:#e6db74">&#34;2025-11-07T18:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;medium&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;categories&#34;</span>: [<span style="color:#e6db74">&#34;groceries&#34;</span>, <span style="color:#e6db74">&#34;dairy&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Validation Rules:</strong></p>
<ul>
<li><code>title</code>: Required, string, 1-255 characters, cannot be only whitespace</li>
<li><code>description</code>: Optional, string, max 2000 characters</li>
<li><code>completed</code>: Optional, boolean (default: false)</li>
<li><code>dueDate</code>: Optional, valid ISO 8601 datetime string</li>
<li><code>priority</code>: Optional, enum (&rsquo;low&rsquo;, &lsquo;medium&rsquo;, &lsquo;high&rsquo;)</li>
<li><code>categories</code>: Optional, array of strings, max 10 items, each max 50 characters</li>
</ul>
<p><strong>Response (201 Created):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;660e8400-e29b-41d4-a716-446655440001&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;listId&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Buy milk&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;2 liters, skim&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;completed&#34;</span>: <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;dueDate&#34;</span>: <span style="color:#e6db74">&#34;2025-11-07T18:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;medium&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;categories&#34;</span>: [<span style="color:#e6db74">&#34;groceries&#34;</span>, <span style="color:#e6db74">&#34;dairy&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:05:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format or validation error</li>
<li><code>404 Not Found</code> - List not found</li>
<li><code>415 Unsupported Media Type</code> - Invalid Content-Type</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="patch-apiv1tasksid">PATCH /api/v1/tasks/:id</h3>
<p>Update an existing task.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>PATCH</code></li>
<li>Headers: <code>Content-Type: application/json</code></li>
<li>URL Parameters: <code>id</code> (UUID v4)</li>
<li>Body (all fields optional):</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Buy organic milk&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;completed&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;high&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Validation Rules:</strong></p>
<ul>
<li><code>title</code>: Optional, string, 1-255 characters if provided</li>
<li><code>description</code>: Optional, string, max 2000 characters if provided</li>
<li><code>completed</code>: Optional, boolean</li>
<li><code>dueDate</code>: Optional, valid ISO 8601 datetime string or null</li>
<li><code>priority</code>: Optional, enum (&rsquo;low&rsquo;, &lsquo;medium&rsquo;, &lsquo;high&rsquo;) or null</li>
<li><code>categories</code>: Optional, array of strings, max 10 items, each max 50 characters</li>
<li>At least one field must be provided</li>
</ul>
<p><strong>Response (200 OK):</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;660e8400-e29b-41d4-a716-446655440001&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;listId&#34;</span>: <span style="color:#e6db74">&#34;550e8400-e29b-41d4-a716-446655440000&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;Buy organic milk&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;2 liters, skim&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;completed&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;dueDate&#34;</span>: <span style="color:#e6db74">&#34;2025-11-07T18:00:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;priority&#34;</span>: <span style="color:#e6db74">&#34;high&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;categories&#34;</span>: [<span style="color:#e6db74">&#34;groceries&#34;</span>, <span style="color:#e6db74">&#34;dairy&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T10:05:00Z&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updatedAt&#34;</span>: <span style="color:#e6db74">&#34;2025-11-06T11:30:00Z&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format or validation error</li>
<li><code>404 Not Found</code> - Task not found</li>
<li><code>415 Unsupported Media Type</code> - Invalid Content-Type</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h3 id="delete-apiv1tasksid">DELETE /api/v1/tasks/:id</h3>
<p>Delete a task.</p>
<p><strong>Request:</strong></p>
<ul>
<li>Method: <code>DELETE</code></li>
<li>Headers: None required</li>
<li>URL Parameters: <code>id</code> (UUID v4)</li>
</ul>
<p><strong>Response (204 No Content):</strong></p>
<ul>
<li>Empty body</li>
</ul>
<p><strong>Error Responses:</strong></p>
<ul>
<li><code>400 Bad Request</code> - Invalid UUID format</li>
<li><code>404 Not Found</code> - Task not found</li>
<li><code>500 Internal Server Error</code> - Database error</li>
</ul>
<hr>
<h2 id="error-responses">Error Responses</h2>
<p>All errors return JSON with the following format:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;error&#34;</span>: <span style="color:#e6db74">&#34;Error message&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;code&#34;</span>: <span style="color:#e6db74">&#34;ERROR_CODE&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;details&#34;</span>: {}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="http-status-codes">HTTP Status Codes</h3>
<ul>
<li><code>200 OK</code> - Successful GET/PATCH request</li>
<li><code>201 Created</code> - Successful POST request</li>
<li><code>204 No Content</code> - Successful DELETE request</li>
<li><code>400 Bad Request</code> - Invalid request (validation error, malformed UUID, etc.)</li>
<li><code>401 Unauthorized</code> - Missing, invalid, expired, or blacklisted token</li>
<li><code>404 Not Found</code> - Resource not found</li>
<li><code>409 Conflict</code> - Duplicate username or email</li>
<li><code>415 Unsupported Media Type</code> - Invalid Content-Type</li>
<li><code>500 Internal Server Error</code> - Server/database error</li>
</ul>
<h3 id="error-codes">Error Codes</h3>
<table>
  <thead>
      <tr>
          <th>Code</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>VALIDATION_ERROR</code></td>
          <td>Input validation failed</td>
      </tr>
      <tr>
          <td><code>INVALID_UUID</code></td>
          <td>Invalid UUID format</td>
      </tr>
      <tr>
          <td><code>INVALID_JSON</code></td>
          <td>Malformed JSON</td>
      </tr>
      <tr>
          <td><code>NOT_FOUND</code></td>
          <td>Resource not found</td>
      </tr>
      <tr>
          <td><code>CONFLICT</code></td>
          <td>Duplicate resource</td>
      </tr>
      <tr>
          <td><code>UNAUTHORIZED</code></td>
          <td>Missing or invalid authentication</td>
      </tr>
      <tr>
          <td><code>UNSUPPORTED_MEDIA_TYPE</code></td>
          <td>Wrong Content-Type header</td>
      </tr>
      <tr>
          <td><code>INTERNAL_ERROR</code></td>
          <td>Server error</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="security-guidelines">Security Guidelines</h2>
<h3 id="authentication-security">Authentication Security</h3>
<ol>
<li>
<p><strong>Password Hashing:</strong></p>
<ul>
<li>Bcrypt with cost factor 12</li>
<li>Passwords never stored or returned in plain text</li>
<li>Example: <code>password_hash($password, PASSWORD_BCRYPT, ['cost' =&gt; 12])</code></li>
</ul>
</li>
<li>
<p><strong>JWT Token Management:</strong></p>
<ul>
<li>Tokens expire after 1 hour</li>
<li>Signature verification with secret key</li>
<li>Token blacklisting on logout</li>
<li>Invalid/expired/blacklisted tokens return <code>401 Unauthorized</code></li>
</ul>
</li>
<li>
<p><strong>Token Blacklisting:</strong></p>
<ul>
<li>Tokens added to blacklist on logout</li>
<li>Blacklist checked before token validation</li>
<li>Automatic cleanup of expired tokens</li>
<li>Prevents token reuse after logout</li>
</ul>
</li>
</ol>
<h3 id="input-validation">Input Validation</h3>
<ol>
<li>
<p><strong>UUID Validation:</strong></p>
<ul>
<li>All IDs must be valid UUID v4 format</li>
<li>Reject malformed UUIDs with <code>400 Bad Request</code></li>
</ul>
</li>
<li>
<p><strong>String Sanitization:</strong></p>
<ul>
<li>Trim whitespace from all string inputs</li>
<li>Reject strings that are only whitespace when required</li>
<li>Enforce maximum length limits</li>
<li>Escape HTML entities to prevent XSS attacks</li>
</ul>
</li>
<li>
<p><strong>Data Type Validation:</strong></p>
<ul>
<li>Validate JSON structure and data types</li>
<li>Reject invalid JSON with <code>400 Bad Request</code></li>
<li>Validate enums (e.g., priority values)</li>
</ul>
</li>
<li>
<p><strong>Date Validation:</strong></p>
<ul>
<li>Validate ISO 8601 format for dates</li>
<li>Reject invalid date formats with <code>400 Bad Request</code></li>
</ul>
</li>
</ol>
<h3 id="database-security">Database Security</h3>
<ol>
<li>
<p><strong>SQL Injection Prevention:</strong></p>
<ul>
<li>Use prepared statements (PDO with parameterized queries) for ALL database operations</li>
<li>NEVER concatenate user input into SQL queries</li>
<li>Validate and sanitize all input before database operations</li>
</ul>
</li>
<li>
<p><strong>Transaction Safety:</strong></p>
<ul>
<li>Use transactions for operations affecting multiple tables</li>
<li>Implement proper rollback on errors</li>
</ul>
</li>
</ol>
<h3 id="content-type-validation">Content-Type Validation</h3>
<ol>
<li>
<p><strong>Request Validation:</strong></p>
<ul>
<li>Validate <code>Content-Type: application/json</code> for POST/PATCH requests</li>
<li>Return <code>415 Unsupported Media Type</code> for invalid content types</li>
</ul>
</li>
<li>
<p><strong>Response Headers:</strong></p>
<ul>
<li>Always return <code>Content-Type: application/json</code></li>
<li>Include proper HTTP status codes</li>
</ul>
</li>
</ol>
<h3 id="environment-configuration">Environment Configuration</h3>
<p>Set in <code>.env</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Debug mode (show detailed errors)</span>
</span></span><span style="display:flex;"><span>DEBUG_MODE<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Log level (error, warning, info, debug)</span>
</span></span><span style="display:flex;"><span>LOG_LEVEL<span style="color:#f92672">=</span>debug
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Database path</span>
</span></span><span style="display:flex;"><span>DATABASE_PATH<span style="color:#f92672">=</span>data/todo.db
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># JWT configuration (CHANGE IN PRODUCTION!)</span>
</span></span><span style="display:flex;"><span>JWT_SECRET<span style="color:#f92672">=</span>your-secret-key-change-in-production
</span></span><span style="display:flex;"><span>JWT_EXPIRY<span style="color:#f92672">=</span><span style="color:#ae81ff">3600</span>
</span></span></code></pre></div><p><strong>Production Recommendations:</strong></p>
<ul>
<li>Set <code>DEBUG_MODE=false</code> in production</li>
<li>Use a strong, random <code>JWT_SECRET</code> (32+ characters)</li>
<li>Keep <code>JWT_SECRET</code> secure (never commit to git)</li>
<li>Consider shorter expiry for sensitive applications</li>
<li>Use HTTPS for all endpoints</li>
<li>Implement rate limiting to prevent abuse</li>
</ul>
<hr>
<h2 id="complete-authentication-flow-example">Complete Authentication Flow Example</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 1. Sign up</span>
</span></span><span style="display:flex;"><span>SIGNUP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>curl -s -X POST http://localhost:8000/api/v1/auth/signup <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{&#34;username&#34;:&#34;alice&#34;,&#34;email&#34;:&#34;alice@test.com&#34;,&#34;password&#34;:&#34;pass123456&#34;}&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TOKEN<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo $SIGNUP | grep -o <span style="color:#e6db74">&#39;&#34;token&#34;:&#34;[^&#34;]*&#34;&#39;</span> | cut -d<span style="color:#e6db74">&#39;&#34;&#39;</span> -f4<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Token: </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. Get profile (requires token)</span>
</span></span><span style="display:flex;"><span>curl -X GET http://localhost:8000/api/v1/users/profile <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. Logout (blacklist token)</span>
</span></span><span style="display:flex;"><span>curl -X POST http://localhost:8000/api/v1/auth/logout <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4. Try to use token again (should fail with 401)</span>
</span></span><span style="display:flex;"><span>curl -X GET http://localhost:8000/api/v1/users/profile <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 5. Login to get new token</span>
</span></span><span style="display:flex;"><span>LOGIN<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>curl -s -X POST http://localhost:8000/api/v1/auth/login <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{&#34;username&#34;:&#34;alice&#34;,&#34;password&#34;:&#34;pass123456&#34;}&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NEW_TOKEN<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo $LOGIN | grep -o <span style="color:#e6db74">&#39;&#34;token&#34;:&#34;[^&#34;]*&#34;&#39;</span> | cut -d<span style="color:#e6db74">&#39;&#34;&#39;</span> -f4<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;New token: </span>$NEW_TOKEN<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><hr>
<h2 id="endpoint-summary">Endpoint Summary</h2>
<table>
  <thead>
      <tr>
          <th>Method</th>
          <th>Endpoint</th>
          <th>Protected</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Authentication</strong></td>
          <td></td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>POST</td>
          <td><code>/auth/signup</code></td>
          <td>No</td>
          <td>Create account</td>
      </tr>
      <tr>
          <td>POST</td>
          <td><code>/auth/login</code></td>
          <td>No</td>
          <td>Authenticate user</td>
      </tr>
      <tr>
          <td>POST</td>
          <td><code>/auth/logout</code></td>
          <td>Yes</td>
          <td>Logout and blacklist token</td>
      </tr>
      <tr>
          <td>GET</td>
          <td><code>/users/profile</code></td>
          <td>Yes</td>
          <td>Get current user profile</td>
      </tr>
      <tr>
          <td><strong>Lists</strong></td>
          <td></td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>GET</td>
          <td><code>/lists</code></td>
          <td>No</td>
          <td>Get all lists</td>
      </tr>
      <tr>
          <td>POST</td>
          <td><code>/lists</code></td>
          <td>No</td>
          <td>Create list</td>
      </tr>
      <tr>
          <td>GET</td>
          <td><code>/lists/:id</code></td>
          <td>No</td>
          <td>Get list by ID</td>
      </tr>
      <tr>
          <td>PATCH</td>
          <td><code>/lists/:id</code></td>
          <td>No</td>
          <td>Update list</td>
      </tr>
      <tr>
          <td>DELETE</td>
          <td><code>/lists/:id</code></td>
          <td>No</td>
          <td>Delete list</td>
      </tr>
      <tr>
          <td><strong>Tasks</strong></td>
          <td></td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>GET</td>
          <td><code>/lists/:listId/tasks</code></td>
          <td>No</td>
          <td>Get tasks in list</td>
      </tr>
      <tr>
          <td>POST</td>
          <td><code>/lists/:listId/tasks</code></td>
          <td>No</td>
          <td>Create task</td>
      </tr>
      <tr>
          <td>GET</td>
          <td><code>/tasks/:id</code></td>
          <td>No</td>
          <td>Get task by ID</td>
      </tr>
      <tr>
          <td>PATCH</td>
          <td><code>/tasks/:id</code></td>
          <td>No</td>
          <td>Update task</td>
      </tr>
      <tr>
          <td>DELETE</td>
          <td><code>/tasks/:id</code></td>
          <td>No</td>
          <td>Delete task</td>
      </tr>
  </tbody>
</table>
<p><strong>Protected endpoints require:</strong> <code>Authorization: Bearer &lt;token&gt;</code> header</p>
<hr>
<h2 id="token-blacklisting">Token Blacklisting</h2>
<h3 id="overview-1">Overview</h3>
<p>The API implements <strong>token blacklisting</strong> to properly handle logout. When a user logs out, their JWT token is added to a blacklist database, preventing it from being used even if it hasn&rsquo;t expired yet.</p>
<h3 id="why-jwt_secret-is-needed">Why JWT_SECRET is Needed</h3>
<p><strong>Question:</strong> Why do we need <code>JWT_SECRET</code> in <code>.env</code> if signup/login give tokens?</p>
<p><strong>Answer:</strong></p>
<ul>
<li><code>JWT_SECRET</code> is the <strong>master key</strong> used by the server to sign and verify ALL tokens</li>
<li>User tokens are <strong>signed using this secret</strong> and given to users</li>
<li>When users send their token, the server uses <code>JWT_SECRET</code> to verify it&rsquo;s authentic</li>
</ul>
<p><strong>Analogy:</strong></p>
<ul>
<li><code>JWT_SECRET</code> = The stamp used by a notary to certify documents</li>
<li>User tokens = Certified documents given to citizens</li>
<li>The notary (server) uses the stamp to verify documents are real</li>
</ul>
<h3 id="how-blacklisting-works">How Blacklisting Works</h3>
<p><strong>Without Blacklist:</strong></p>
<ol>
<li>User logs in  Gets token (valid for 1 hour)</li>
<li>User logs out  Client removes token</li>
<li><strong>Problem:</strong> If someone copied the token, they can still use it for up to 1 hour!</li>
</ol>
<p><strong>With Blacklist:</strong></p>
<ol>
<li>User logs in  Gets token (valid for 1 hour)</li>
<li>User logs out  Token added to blacklist database</li>
<li><strong>Solution:</strong> Even if someone has the token, server rejects it because it&rsquo;s blacklisted!</li>
</ol>
<h3 id="implementation">Implementation</h3>
<p><strong>Database Table:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> token_blacklist (
</span></span><span style="display:flex;"><span>    token TEXT <span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>,
</span></span><span style="display:flex;"><span>    user_id TEXT <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    blacklisted_at TEXT <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>,
</span></span><span style="display:flex;"><span>    expires_at TEXT <span style="color:#66d9ef">NOT</span> <span style="color:#66d9ef">NULL</span>
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><p><strong>Token Validation Flow:</strong></p>
<ol>
<li>Extract token from <code>Authorization: Bearer &lt;token&gt;</code> header</li>
<li>Check if token is in blacklist  Reject if blacklisted</li>
<li>Verify JWT signature with <code>JWT_SECRET</code></li>
<li>Check token expiration  Reject if expired</li>
<li>Allow request if all checks pass</li>
</ol>
<p><strong>Automatic Cleanup:</strong></p>
<ul>
<li>Expired tokens are automatically removed from blacklist on every logout</li>
<li>Keeps database size manageable</li>
<li>No manual cleanup needed</li>
</ul>
<h3 id="testing-token-blacklisting">Testing Token Blacklisting</h3>
<p><strong>Test Flow:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 1. Sign up and get token</span>
</span></span><span style="display:flex;"><span>RESPONSE<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>curl -s -X POST http://localhost:8000/api/v1/auth/signup <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -d <span style="color:#e6db74">&#39;{&#34;username&#34;:&#34;test&#34;,&#34;email&#34;:&#34;test@test.com&#34;,&#34;password&#34;:&#34;pass1234&#34;}&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TOKEN<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo $RESPONSE | grep -o <span style="color:#e6db74">&#39;&#34;token&#34;:&#34;[^&#34;]*&#34;&#39;</span> | cut -d<span style="color:#e6db74">&#39;&#34;&#39;</span> -f4<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;Token: </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. Verify token works</span>
</span></span><span style="display:flex;"><span>curl -X GET http://localhost:8000/api/v1/users/profile <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Should return user profile</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. Logout (blacklist the token)</span>
</span></span><span style="display:flex;"><span>curl -X POST http://localhost:8000/api/v1/auth/logout <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Should return 204 No Content</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4. Try to use token again</span>
</span></span><span style="display:flex;"><span>curl -X GET http://localhost:8000/api/v1/users/profile <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  -H <span style="color:#e6db74">&#34;Authorization: Bearer </span>$TOKEN<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Should return 401 Unauthorized (token is blacklisted!)</span>
</span></span></code></pre></div><h3 id="security-benefits">Security Benefits</h3>
<p><strong>Before Blacklisting:</strong></p>
<ul>
<li> Stolen tokens work until expiry (up to 1 hour)</li>
<li> User can&rsquo;t invalidate their own token</li>
<li> No way to force logout across devices</li>
</ul>
<p><strong>After Blacklisting:</strong></p>
<ul>
<li> Logout immediately invalidates token</li>
<li> Stolen tokens can be blocked</li>
<li> Can implement &ldquo;logout all devices&rdquo; feature</li>
<li> Admin can blacklist compromised tokens</li>
</ul>
<h3 id="database-queries">Database Queries</h3>
<p>View blacklisted tokens:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sqlite3 data/todo.db <span style="color:#e6db74">&#34;SELECT * FROM token_blacklist;&#34;</span>
</span></span></code></pre></div><p>Count blacklisted tokens:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sqlite3 data/todo.db <span style="color:#e6db74">&#34;SELECT COUNT(*) FROM token_blacklist;&#34;</span>
</span></span></code></pre></div><p>Manually cleanup expired tokens:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sqlite3 data/todo.db <span style="color:#e6db74">&#34;DELETE FROM token_blacklist WHERE expires_at &lt; datetime(&#39;now&#39;);&#34;</span>
</span></span></code></pre></div><h3 id="performance-impact">Performance Impact</h3>
<ul>
<li>Every protected endpoint checks blacklist (adds ~1-5ms)</li>
<li>Indexed database lookup is very fast</li>
<li>Negligible impact for small to medium applications</li>
</ul>
<h3 id="faq">FAQ</h3>
<p><strong>Q: What happens if blacklist check fails (database error)?</strong></p>
<p>A: The token validation continues with normal JWT validation. This prevents a database outage from breaking authentication entirely.</p>
<p><strong>Q: How long are tokens kept in the blacklist?</strong></p>
<p>A: Until they expire. Once a token&rsquo;s expiry time passes, it&rsquo;s automatically removed during cleanup.</p>
<p><strong>Q: Can I manually clear the blacklist?</strong></p>
<p>A: Yes, you can delete the <code>token_blacklist</code> table or specific entries via SQL.</p>

    </main>
    <footer>
        <p>&copy; 2025 NKU 640 Documentation</p>
    </footer>
</body>
</html>